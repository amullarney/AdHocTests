package sysconfig.client.widgets.impl;


import io.ciera.runtime.summit.classes.InstanceSet;
import io.ciera.runtime.summit.exceptions.XtumlException;

import java.util.Arrays;
import java.util.Comparator;
import java.util.Iterator;
import java.util.List;

import org.json.JSONArray;
import org.json.JSONObject;

import sysconfig.Client;
import sysconfig.client.hr.EmployeeSet;
import sysconfig.client.hr.impl.EmployeeSetImpl;
import sysconfig.client.widgets.EmployeeMenu;
import sysconfig.client.widgets.EmployeeMenuSet;


public class EmployeeMenuSetImpl extends InstanceSet<EmployeeMenuSet,EmployeeMenu> implements EmployeeMenuSet {

    public EmployeeMenuSetImpl() {
    }

    public EmployeeMenuSetImpl(Comparator<? super EmployeeMenu> comp) {
        super(comp);
    }

    // attributes
    @Override
    public void setDummy( int m_dummy ) throws XtumlException {
        for ( EmployeeMenu employeemenu : this ) employeemenu.setDummy( m_dummy );
    }


    // selections
    @Override
    public EmployeeSet R1_displays_Employee() throws XtumlException {
        EmployeeSet employeeset = new EmployeeSetImpl();
        for ( EmployeeMenu employeemenu : this ) employeeset.addAll( employeemenu.R1_displays_Employee() );
        return employeeset;
    }


	//serialize/deserialize methods
    public String serialize() {
		JSONObject setstr = new JSONObject();
		JSONArray setarr = new JSONArray();
		setstr.put("EmployeeMenuSet", setarr);
		String memberstr = "";
		List<EmployeeMenu> contents = elements();
		for ( EmployeeMenu member : contents ) {
//            memberstr = member.serialize();
            setarr.put(memberstr);
        }
        System.out.printf( "EmployeeMenuSet serialize EmployeeMenu: %s \n", setstr.toString() );
		return setstr.toString();
    }

    public static EmployeeMenuSet deserialize( Object o, Client context ) {
    	try {
	        JSONObject jobj = new JSONObject((String)o);
	        EmployeeMenuSet set = new EmployeeMenuSetImpl();
	        String EmployeeMenuSet_str = jobj.getString("EmployeeMenuSet");
            System.out.printf( "EmployeeMenuSet deserialize EmployeeMenu: %s \n", EmployeeMenuSet_str );
	        
	        return set;
    	}
    	catch(Exception ex ) { 
            System.out.printf( "EmployeeMenuSet deserialize failed: %s \n", ex.toString() );
    	};
    	return (EmployeeMenuSet) null;
    }


    @Override
    public EmployeeMenu nullElement() {
        return EmployeeMenuImpl.EMPTY_EMPLOYEEMENU;
    }

    @Override
    public EmployeeMenuSet emptySet() {
      return new EmployeeMenuSetImpl();
    }

    @Override
    public EmployeeMenuSet emptySet(Comparator<? super EmployeeMenu> comp) {
      return new EmployeeMenuSetImpl(comp);
    }

    @Override
    public List<EmployeeMenu> elements() {
        return Arrays.asList(toArray(new EmployeeMenu[0]));
    }

}
